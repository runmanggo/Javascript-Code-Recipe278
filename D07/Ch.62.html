<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="button-wrapper">
      <button class="button" data-age="20">20세 이상</button>
      <button class="button" data-age="30">30세 이상</button>
      <button class="button" data-age="40">40세 이상</button>
    </div>
    <ul class="user_list"></ul>
  </body>
  <script>
    // 데이터
    const userDataList = [
      { name: "곰", age: 18 },
      { name: "여우", age: 27 },
      { name: "사자", age: 32 },
      { name: "얼룩말", age: 41 },
      { name: "기린", age: 56 },
    ];

    //.button 요소의 이벤트 설정
    document.querySelectorAll(".button").forEach((element) =>
      element.addEventListener("click", (event) => {
        onClickButton(event);
      })
    );
    /**
     * .button의 각각요소들을 클릭 이벤트 리스너를 추가 함
     * 클릭 이벤트가 발생하면 이벤트 객체 event를 인수로 하는 onClickButton 함수가 호출
     */

    //클릭시 버튼 처리
    function onClickButton(event) {
      // 클릭한 버튼 요소
      const button = event.target;
      //버튼의 데이터 요소 data-age 가져오기
      const targetAge = button.dataset.age;
      //targetAge 이상의 유저 배열 생성
      const filterdList = userDataList.filter((data) => data.age >= targetAge);
      updateList(filterdList);
    }

    //유저 배열을 출력
    function updateList(filterdList) {
      let listHtml = "";
      for (const data of filterdList) {
        listHtml += `<li>${data.name} : ${data.age}세</li>`;
      }
      document.querySelector(".user_list").innerHTML = listHtml;
    }
  </script>
</html>
